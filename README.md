# ЗАДАНИЕ 1

## Уровень 1. Проектирование

### 1. Этап. Предварительный анализ
#### Сложность и масштаб
Приложение Mesto является монолитом. с единой базой кода, в которой объединены все бизнес-задачи.
API приложения разделено на два api.js и auth.js:
* /cards метод POST
* /cards/${cardID} метод DELETE
* /users/me метод GET
* /users/me метод PATCH
* /users/me/avatar метод PATCH
* /cards/like/${cardID} методы PUT и DELETE

* /signup метод POST
* /signin метод POST
* /users/me метод GET

Основные компоненты проекта расположены в каталоге src/components.
Компоненты по работе с фото:
* AddPlacePopup
* Card
* ImagePopup
Компоненты по работе с профилем пользователя:
* EditAvatarPopup
* EditProfilePopup
* ImagePopup
Компоненты аутентификация и регистрации пользователя:
* EditAvatarPopup
* Login
* Register

В компонент App внедрён контекст состояния пользователя через CurrentUserContext.Provider.

В проекте используется основной фреймворк react версии 17.0.2 и маршрутизация на основе react-router-dom версии 5.2.0.

#### Цель перехода
Разбиение на микрофронтенды позволит декомпозировать приложение на части,
которые можно разрабатывать, тестировать и развёртывать независимо друг от друга.

### 2. Этап. Бизнес функции
Выделены следующие бизнес функции: аутентификация и регистрация пользователя, работа с профилем пользователя (создание, редактирование), работа с фотографиями (загрузка, удаление и сбор и учёт лайков под фото).
Разбиение с использованием Module Federation позволит независимым приложениям использовать общий код во время выполнения. Команды, которые разрабатывают разные микрофронтенды (auth, cards и profile), смогут получить доступ к коду друг друга до развёртывания.
Новое приложение host это основное приложение. Оно позволит динамически загружать удалённые модули.
#### Аутентификация и регистрация (микрофронтенд auth)
#### Работа с профилем пользователя (микрофронтенд profile)
#### Работа с фотографиями (микрофронтенд cards)

### 3. Этап. Метод реализации
#### Run time
#### Клиентская компоновка

### 4. Этап. Инструмент для создания микрофронтэндов
#### Webpack Module Federation

## Уровень 2. Планирование изменений
Создано 3 микрофронтэнда и основной host в каталоге frontend/microfrontend:
```dockerfile
/auth
  /src
   /components
     Footer.js              // Заголовок
     Header.js              // Нижний колонтитул
     Login.js               // Компонент входа пользователя
     Register.js            // Компонент регистрации пользователя
   /utils
     auth.js                // Утилиты для аутентификации
   index.js                 // Точка входа микрофронтенда
   ...
/auth
  /src
   /components
     AddPlacePopup.js       // Добавления фото
     Card.js                // Отображение фото
     Footer.js              // Заголовок
     Header.js              // Нижний колонтитул
     ImagePopup.js          // Всплывающее
     InfoTooltip.js         // Информационная подсказка
     ...
   index.js                 // Точка входа микрофронтенда
   ...
/profile
  /src
   /components
     EditAvatarPopup.js     // Изменение аватарки
     EditProfilePopup.js    // Изменение профиля
     Footer.js              // Заголовок
     Header.js              // Нижний колонтитул
     ...
   index.js                 // Точка входа микрофронтенда
   ...
```

# ЗАДАНИЕ 2

Было произведено разбиение монолитного приложения "Система управления торговыми площадками" на 8 микросервисов.

1. Микросервис пользователей отвечает за домен работы с пользовательской информацией. И выполняет следующие функции:
   1. Регистрация пользователя
   2. Аутентификация пользователя
   3. Модификация ролей пользователя
   4. Нотификация нового пользователя
   5. Валидация токена безопасности (JWT)
   6. Генерация отчётов активности пользователей

2. Микросервис услуг отвечает за домен услуг. И выполняет следующие функции:
   1. Добавить услугу в профиль пользователя
   2. Удалить услугу пользователя
   3. Изменить услугу пользователя
   4. Поиск услуг

3. Микросервис товаров отвечает за домен товаров. И выполняет следующие функции:
   1. Добавить товар в профиль пользователя
   2. Удалить товар пользователя
   3. Изменить товар пользователя
   4. Поиск товаров

4. Микросервис аукционов отвечает за домен аукционов, заявок и ставок на аукционе.
5. Микросервис заказов отвечает за домен заказов.
6. Микросервис платёжных операций отвечает за домен платёжных операций и взаимодействие с платёжными системами.
7. Микросервис апелляций отвечает за домен апелляций.  И выполняет следующие функции:
   1. Создать заявку на апелляцию
   2. Регистрация заявки на апелляцию
   3. Обновить статус заявки на апелляцию
8. Микросервис заявкок на техподдержку.